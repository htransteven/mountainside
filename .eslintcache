[{"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\index.js":"1","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\reportWebVitals.js":"2","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\contexts\\FirebaseContext.js":"3","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\Main.js":"4","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\LoginMenu.js":"5","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\defaultStyles.js":"6","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomsPage.js":"7","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\Navbar.js":"8","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomController.js":"9","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\UserInfo.js":"10","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomCard.js":"11","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\NewRoomMenu.js":"12"},{"size":636,"mtime":1610845858687,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1606260783829,"results":"15","hashOfConfig":"14"},{"size":1407,"mtime":1610847166937,"results":"16","hashOfConfig":"14"},{"size":822,"mtime":1610864233031,"results":"17","hashOfConfig":"14"},{"size":3468,"mtime":1610864945508,"results":"18","hashOfConfig":"14"},{"size":431,"mtime":1610862552271,"results":"19","hashOfConfig":"14"},{"size":978,"mtime":1610864820611,"results":"20","hashOfConfig":"14"},{"size":2050,"mtime":1610843211344,"results":"21","hashOfConfig":"14"},{"size":4601,"mtime":1610863448427,"results":"22","hashOfConfig":"14"},{"size":4410,"mtime":1610858802739,"results":"23","hashOfConfig":"14"},{"size":3489,"mtime":1610864350077,"results":"24","hashOfConfig":"14"},{"size":6571,"mtime":1610864658316,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1v4845x",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\index.js",[],["52","53"],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\reportWebVitals.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\contexts\\FirebaseContext.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\Main.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\LoginMenu.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\defaultStyles.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomsPage.js",["54","55","56"],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\Navbar.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomController.js",["57"],"import React, {\r\n  useState,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useCallback,\r\n} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { fonts, colors } from \"../defaultStyles\";\r\n\r\nimport RoomCard from \"./RoomCard\";\r\nimport NewRoomMenu from \"./NewRoomMenu\";\r\n\r\nimport { useFirebase } from \"../contexts/FirebaseContext\";\r\n\r\nconst RoomsWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(6, 1fr);\r\n  grid-gap: 20px;\r\n  width: 100%;\r\n`;\r\n\r\nconst TitleWrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst TitleLabel = styled.span`\r\n  font-family: ${fonts.secondaryFont};\r\n  color: ${colors.textPrimary};\r\n  text-transform: uppercase;\r\n  font-size: 2.5rem;\r\n  line-height: 1em;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  outline: none;\r\n  border: none;\r\n  color: ${colors.textPrimary};\r\n  background: none;\r\n  opacity: 0.75;\r\n  margin-left: 20px;\r\n  font-size: 1.1em;\r\n  padding: 3px 12px;\r\n  border-radius: 5px;\r\n  line-height: 1em;\r\n  border: 2px solid ${colors.lightBlue};\r\n  transition: 0.2s opacity, 0.2s color, 0.2s background-color;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    background-color: ${colors.lightBlue};\r\n    color: ${colors.textPrimary};\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ModalWrapper = styled.div`\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: rgba(0, 0, 0, 0.85);\r\n`;\r\n\r\nconst ModalContentWrapper = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 850px;\r\n  padding: 30px;\r\n  background-color: ${colors.background};\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0px 2px 25px 6px rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst RoomController = ({ user }) => {\r\n  const firebase = useFirebase();\r\n  const db = firebase.firestore();\r\n  const [rooms, setRooms] = useState([]);\r\n  const [myRooms, setMyRooms] = useState([]);\r\n\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  const escapeModal = useCallback((event) => {\r\n    console.log(event);\r\n    if (event.keyCode === 27) {\r\n      setModalOpen(false);\r\n    }\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    if (modalOpen) {\r\n      window.addEventListener(\"keydown\", escapeModal);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", escapeModal);\r\n    };\r\n  }, [modalOpen, escapeModal]);\r\n\r\n  useEffect(() => {\r\n    // get all available rooms from firestore\r\n    db.collection(\"rooms\").onSnapshot((snapshot) => {\r\n      snapshot.docChanges().forEach((change) => {\r\n        const docData = change.doc.data();\r\n        if (change.type === \"added\") {\r\n          setRooms((prev) => {\r\n            const copy = [...prev];\r\n            copy.push(docData);\r\n            return copy;\r\n          });\r\n          if (docData.host === user.email) {\r\n            setMyRooms((prev) => {\r\n              const copy = [...prev];\r\n              copy.push(docData);\r\n              return copy;\r\n            });\r\n          }\r\n        }\r\n        if (change.type === \"removed\") {\r\n          setRooms((prev) => {\r\n            const copy = [...prev];\r\n            return copy.filter((room) => room.id !== docData.id);\r\n          });\r\n\r\n          if (docData.host === user.email) {\r\n            setMyRooms((prev) => {\r\n              const copy = [...prev];\r\n              return copy.filter((room) => room.id !== docData.id);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }, [db]);\r\n\r\n  return (\r\n    <>\r\n      <TitleWrapper>\r\n        <TitleLabel>Your Rooms</TitleLabel>\r\n        <ActionButton onClick={() => setModalOpen(true)}>\r\n          Create Room\r\n        </ActionButton>\r\n      </TitleWrapper>\r\n      <RoomsWrapper>\r\n        {myRooms.map((room) => (\r\n          <RoomCard room={room} isOwner={true} user={user} />\r\n        ))}\r\n      </RoomsWrapper>\r\n      <TitleWrapper>\r\n        <TitleLabel>All Study Rooms</TitleLabel>\r\n      </TitleWrapper>\r\n      <RoomsWrapper>\r\n        {rooms.map((room) => (\r\n          <RoomCard room={room} user={user} />\r\n        ))}\r\n      </RoomsWrapper>\r\n      {modalOpen && (\r\n        <ModalWrapper onClick={() => setModalOpen(false)}>\r\n          <ModalContentWrapper onClick={(e) => e.stopPropagation()}>\r\n            <NewRoomMenu user={user} onSubmit={() => setModalOpen(false)} />\r\n          </ModalContentWrapper>\r\n        </ModalWrapper>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoomController;\r\n","C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\UserInfo.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\RoomCard.js",[],"C:\\Users\\htran\\Desktop\\github\\mountainside\\src\\components\\NewRoomMenu.js",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":1,"column":27,"nodeType":"64","messageId":"65","endLine":1,"endColumn":36},{"ruleId":"62","severity":1,"message":"66","line":3,"column":10,"nodeType":"64","messageId":"65","endLine":3,"endColumn":21},{"ruleId":"62","severity":1,"message":"67","line":4,"column":10,"nodeType":"64","messageId":"65","endLine":4,"endColumn":20},{"ruleId":"68","severity":1,"message":"69","line":146,"column":6,"nodeType":"70","endLine":146,"endColumn":10,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useFirebase' is defined but never used.","'useHistory' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user.email'. Either include it or remove the dependency array.","ArrayExpression",["74"],"no-global-assign","no-unsafe-negation",{"desc":"75","fix":"76"},"Update the dependencies array to be: [db, user.email]",{"range":"77","text":"78"},[3633,3637],"[db, user.email]"]